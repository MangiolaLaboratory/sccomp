% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/clear_draw_files.R
\name{clear_draw_files}
\alias{clear_draw_files}
\title{Clear Stan Draw Files}
\usage{
clear_draw_files(
  output_directory = "sccomp_draws_files",
  older_than_days = NULL,
  larger_than_mb = NULL,
  pattern = "\\\\.csv$",
  dry_run = FALSE
)
}
\arguments{
\item{output_directory}{A character string specifying the directory containing draw files.
Defaults to "sccomp_draws_files", which is the default output directory used by sccomp.}

\item{older_than_days}{Numeric. If specified, only delete files older than this many days. Default is NULL (delete all).}

\item{larger_than_mb}{Numeric. If specified, only delete files larger than this size in MB. Default is NULL (no size filter).}

\item{pattern}{Character string. Regular expression pattern to match files. Default is "\\.csv$" (all CSV files).}

\item{dry_run}{Logical. If TRUE, only report what would be deleted without actually deleting. Default is FALSE.}
}
\value{
A list invisibly containing:
\itemize{
\item \code{files_deleted}: Number of files deleted
\item \code{space_freed_mb}: Approximate disk space freed in MB
\item \code{files}: Vector of file paths. When \code{dry_run = TRUE}, these are files that would be deleted; when \code{dry_run = FALSE}, these are files that were successfully deleted.
}
}
\description{
This function removes Stan MCMC draw CSV files from the output directory. These files can accumulate and consume significant disk space (often GBs).
Draw files are created during model fitting but are typically only needed during the analysis session.
Once results are extracted into R objects, the CSV files can be safely deleted.
}
\details{
The function can delete files based on:
\itemize{
\item All files in the directory (default)
\item Files older than a specified number of days
\item Files larger than a specified size in MB
\item Files matching a specific pattern
}
}
\examples{
\dontrun{
# Clear all draw files in default directory
clear_draw_files()

# See what would be deleted without actually deleting
clear_draw_files(dry_run = TRUE)

# Delete only files older than 7 days
clear_draw_files(older_than_days = 7)

# Delete only large files (>10 MB)
clear_draw_files(larger_than_mb = 10)

# Delete from custom directory
clear_draw_files(output_directory = "my_custom_draws")

# Combine filters: files older than 30 days AND larger than 50 MB
clear_draw_files(older_than_days = 30, larger_than_mb = 50)
}

}
\references{
S. Mangiola, A.J. Roth-Schulze, M. Trussart, E. Zozaya-Vald√©s, M. Ma, Z. Gao, A.F. Rubin, T.P. Speed, H. Shim, & A.T. Papenfuss, sccomp: Robust differential composition and variability analysis for single-cell data, Proc. Natl. Acad. Sci. U.S.A. 120 (33) e2203828120, https://doi.org/10.1073/pnas.2203828120 (2023).
}
\seealso{
\itemize{
\item \code{\link{clear_stan_model_cache}} for clearing compiled model cache
\item \code{\link{sccomp_estimate}} which creates these draw files
}
}
